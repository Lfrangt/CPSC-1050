# Chapter 3: Data Representation
# 第三章：数据表示

---

# 📖 Slide 1: Chapter Goals | 本章目标

学完这章，你将能够：

1. 区分 **模拟(Analog)** 和 **数字(Digital)** 信息
2. 理解计算机如何表示 **负数**
3. 理解计算机如何表示 **小数/浮点数**
4. 了解 **ASCII** 和 **Unicode** 字符编码
5. 掌握几种 **文本压缩** 方法
6. 理解 **音频、图像、视频** 的数字化表示

---

# 📖 Slide 2: 为什么学这个？

> 计算机只认识 **0** 和 **1**

那么问题来了：

- 负数怎么表示？ → `-5` 怎么存？
- 小数怎么表示？ → `3.14` 怎么存？
- 文字怎么表示？ → `"Hello"` 怎么存？
- 图片怎么表示？ → 一张照片怎么存？
- 视频怎么表示？ → 一部电影怎么存？

**这章就是回答这些问题！**

---

# 📖 Slide 3: Analog vs Digital | 模拟 vs 数字

## 什么是 Analog（模拟）？

**连续的、平滑变化的信息**

想象一下：
- 水银温度计 → 水银柱连续上升
- 老式唱片机 → 针头沿着连续的凹槽滑动
- 你的声音 → 空气压力连续变化

```
模拟信号图示：
      ╱╲    ╱╲
     ╱  ╲  ╱  ╲
────╱    ╲╱    ╲────  ← 连续的波形
```

---

# 📖 Slide 4: 什么是 Digital（数字）？

**离散的、一段一段的信息**

想象一下：
- 电子温度计 → 显示 36.5°C（一个具体数字）
- MP3音乐 → 声音被切成一个个采样点
- 数码照片 → 图片被切成一个个像素点

```
数字信号图示：
    ┌─┐  ┌─┐
    │ │  │ │
────┘ └──┘ └────  ← 离散的方块
```

---

# 📖 Slide 5: 类比理解

| | Analog 模拟 | Digital 数字 |
|--|-------------|--------------|
| 像什么 | 斜坡 🏔️ | 楼梯 🪜 |
| 特点 | 无限精细 | 有限精度 |
| 例子 | 手表指针 | 电子表数字 |

**关键词: Digitize（数字化）**

= 把连续的信息切成一段一段的离散数据

---

# 📖 Slide 6: 为什么计算机用二进制？

两个原因：

## 1. 便宜 (Price)
晶体管很便宜，容易大量生产

## 2. 可靠 (Reliability)  
只需要区分两种状态：开/关、高电压/低电压

```
   开 = 1    关 = 0
   💡        ⚫
```

> 如果用十进制，需要区分10种不同电压，很容易出错！

---

# 📖 Slide 7: 位(Bit)能表示多少东西？

| 位数 | 能表示多少种可能 | 计算 |
|------|------------------|------|
| 1 bit | 2 | 2¹ |
| 2 bits | 4 | 2² |
| 3 bits | 8 | 2³ |
| 4 bits | 16 | 2⁴ |
| 8 bits | 256 | 2⁸ |
| n bits | 2ⁿ | 2ⁿ |

**公式：n位二进制可以表示 2ⁿ 种不同的东西**

---

# 📖 Slide 8: 练习题

**Q: 要表示45个不同的字符，至少需要多少位？**

思考：
- 5 bits = 2⁵ = 32 种 ❌ 不够
- 6 bits = 2⁶ = 64 种 ✅ 够了！

**A: 6 bits**

---

# 📖 Slide 9: 负数表示 - 问题引入

我们已经知道怎么表示正数了：

```
+5 = 00000101 (8位二进制)
```

但是 **-5 怎么表示？**

计算机里没有"负号"这个概念，只有0和1...

---

# 📖 Slide 10: 方法1 - Signed Magnitude（符号-数值法）

**想法很简单：用最高位表示正负**

```
最高位 = 0 → 正数
最高位 = 1 → 负数

+5 = 0 0000101
     ↑
   符号位(正)

-5 = 1 0000101
     ↑
   符号位(负)
```

这不就解决了吗？

---

# 📖 Slide 11: Signed Magnitude 的问题

**问题1: 有两个零！**

```
+0 = 0 0000000
-0 = 1 0000000

这两个都是零，但表示不一样！浪费！
```

**问题2: 加减法很麻烦**

```
5 + (-3) = ?

需要先判断符号，再决定怎么算...
太复杂了！
```

所以计算机不用这种方法...

---

# 📖 Slide 12: 方法2 - Two's Complement（二进制补码）⭐⭐⭐⭐⭐

**这是计算机实际使用的方法！必须掌握！**

## 核心规则：

把正数变成负数的步骤：

```
第1步：所有位取反（0变1，1变0）
第2步：加1
```

就这么简单！

---

# 📖 Slide 13: Two's Complement 例题

**例：把 +5 变成 -5（8位）**

```
第0步：写出+5的二进制
       +5 = 00000101

第1步：取反（0变1，1变0）
            11111010

第2步：加1
            11111010
          +        1
          ──────────
            11111011

答案：-5 = 11111011
```

---

# 📖 Slide 14: 验证一下

**怎么知道 11111011 真的是 -5？**

把 -5 再变回 +5 试试：

```
-5 = 11111011

第1步：取反
       00000100

第2步：加1
       00000100
     +        1
     ──────────
       00000101 = +5 ✓
```

**补码的补码 = 原数！**

---

# 📖 Slide 15: Two's Complement 表（4位）

| 二进制 | 十进制 | | 二进制 | 十进制 |
|--------|--------|--|--------|--------|
| 0000 | 0 | | 1000 | **-8** |
| 0001 | +1 | | 1001 | -7 |
| 0010 | +2 | | 1010 | -6 |
| 0011 | +3 | | 1011 | -5 |
| 0100 | +4 | | 1100 | -4 |
| 0101 | +5 | | 1101 | -3 |
| 0110 | +6 | | 1110 | -2 |
| 0111 | **+7** | | 1111 | -1 |

**观察：最高位是0 → 正数，最高位是1 → 负数**

---

# 📖 Slide 16: n位补码的范围

**公式：**

```
最小值 = -2^(n-1)
最大值 = +2^(n-1) - 1
```

| 位数 | 最小值 | 最大值 |
|------|--------|--------|
| 4位 | -8 | +7 |
| 8位 | -128 | +127 |
| 16位 | -32,768 | +32,767 |

> 注意：负数比正数多一个！（因为0占了一个正数的位置）

---

# 📖 Slide 17: Overflow（溢出）⭐⭐⭐

**当计算结果超出范围时，就会发生溢出！**

例（8位，范围 -128 到 +127）：

```
  01111111  (+127)
+ 00000001  (+1)
──────────
  10000000  = -128 ???

127 + 1 应该等于 128，但结果变成了 -128！
```

**这就是溢出！计算机给出了错误答案！**

---

# 📖 Slide 18: 如何检测溢出？

**规则：**

1. 两个**正数**相加，结果是**负数** → 溢出！
2. 两个**负数**相加，结果是**正数** → 溢出！

```
正 + 正 = 负 → 💥 溢出
负 + 负 = 正 → 💥 溢出
正 + 负 = 任何 → ✅ 不会溢出
```

---

# 📖 Slide 19: 实数（浮点数）表示

现在我们知道怎么表示整数了。

但是小数呢？

```
3.14159...
0.5
175.23
```

这些怎么存？

---

# 📖 Slide 20: 浮点数的思路

**科学计数法！**

```
175.23 = 1.7523 × 10²

把任何数写成：
   符号 × 尾数 × 基数^指数
   sign × mantissa × base^exponent
```

计算机存储三个部分：
1. **Sign（符号）**: 正还是负
2. **Mantissa（尾数）**: 有效数字
3. **Exponent（指数）**: 小数点移动了多少位

---

# 📖 Slide 21: 浮点数例子

**Q: 175.23 用 sign, mantissa, exponent 怎么表示？**

```
思路：把小数变成整数

175.23 = 17523 × 10^(-2)
         ↑         ↑
       尾数      指数（小数点左移2位）

答案：
- Sign: + (正)
- Mantissa: 17523
- Exponent: -2
```

---

# 📖 Slide 22: 更多浮点数例子

| 原数 | 分解 |
|------|------|
| 175.23 | 17523 × 10⁻² |
| -0.00456 | -456 × 10⁻⁵ |
| 12001.00 | 12001 × 10⁰ |
| 155555000 | 15555 × 10⁴ |

**关键：尾数是有效数字，指数告诉你小数点在哪**

---

# 📖 Slide 23: 小数转二进制 ⭐⭐⭐⭐⭐

**这是作业必考题！**

**问题：0.5₁₀ 用二进制怎么表示？**

方法：**乘2取整法**

```
步骤：
1. 小数 × 2
2. 取结果的整数部分（0或1）
3. 用剩下的小数部分继续 × 2
4. 重复...
5. 从上往下读
```

---

# 📖 Slide 24: 例题 - 0.50 转二进制（5位）

```
0.50 × 2 = 1.00  → 取整数 1 ← 第1位
0.00 × 2 = 0.00  → 取整数 0 ← 第2位
0.00 × 2 = 0.00  → 取整数 0 ← 第3位
0.00 × 2 = 0.00  → 取整数 0 ← 第4位
0.00 × 2 = 0.00  → 取整数 0 ← 第5位

从上往下读：1, 0, 0, 0, 0

✅ 答案：0.50₁₀ = 0.10000₂
```

**验算：0.1₂ = 1 × 2⁻¹ = 1 × 0.5 = 0.5 ✓**

---

# 📖 Slide 25: 例题 - 0.10 转二进制（5位）

```
0.10 × 2 = 0.20  → 0
0.20 × 2 = 0.40  → 0
0.40 × 2 = 0.80  → 0
0.80 × 2 = 1.60  → 1  ← 注意！取整数1，留小数0.60
0.60 × 2 = 1.20  → 1

从上往下读：0, 0, 0, 1, 1

✅ 答案：0.10₁₀ ≈ 0.00011₂
```

**验算：0.00011₂ = 2⁻⁴ + 2⁻⁵ = 0.0625 + 0.03125 = 0.09375 ≈ 0.1**

> ⚠️ 注意：很多小数无法精确表示！

---

# 📖 Slide 26: 小数转八进制

**方法完全一样，只是乘8而不是乘2**

例：0.50 转八进制（5位）

```
0.50 × 8 = 4.00  → 4
0.00 × 8 = 0.00  → 0
0.00 × 8 = 0.00  → 0
0.00 × 8 = 0.00  → 0
0.00 × 8 = 0.00  → 0

✅ 答案：0.50₁₀ = 0.40000₈
```

---

# 📖 Slide 27: 小数转八进制 - 例2

例：0.10 转八进制（5位）

```
0.10 × 8 = 0.80  → 0
0.80 × 8 = 6.40  → 6
0.40 × 8 = 3.20  → 3
0.20 × 8 = 1.60  → 1
0.60 × 8 = 4.80  → 4

✅ 答案：0.10₁₀ ≈ 0.06314₈
```

---

# 📖 Slide 28: 小数转换总结

| 目标进制 | 方法 |
|----------|------|
| 二进制 | 乘 **2** 取整 |
| 八进制 | 乘 **8** 取整 |
| 十六进制 | 乘 **16** 取整 |

**通用规则：乘以目标基数，取整数部分，从上往下读**

---

# 📖 Slide 29: 二进制小数权重表

理解为什么 0.1₂ = 0.5₁₀

```
小数点后的位置：

位置:    .  1    2    3    4    5
权重:    . 2⁻¹  2⁻²  2⁻³  2⁻⁴  2⁻⁵
十进制:  . 0.5  0.25 0.125 0.0625 0.03125
分数:    . 1/2  1/4  1/8  1/16  1/32
```

**例：0.101₂ = 1×(1/2) + 0×(1/4) + 1×(1/8) = 0.5 + 0 + 0.125 = 0.625₁₀**

---

# 📖 Slide 30: 文本表示 - ASCII

计算机怎么存储文字？

**给每个字符一个数字编号！**

```
'A' = 65
'B' = 66
'a' = 97
'0' = 48
空格 = 32
```

**ASCII = American Standard Code for Information Interchange**

用 7 bits，可以表示 128 个字符

---

# 📖 Slide 31: ASCII 表（部分）

| 字符 | 十进制 | 二进制 |
|------|--------|--------|
| A | 65 | 1000001 |
| B | 66 | 1000010 |
| Z | 90 | 1011010 |
| a | 97 | 1100001 |
| b | 98 | 1100010 |
| 0 | 48 | 0110000 |
| 空格 | 32 | 0100000 |

**规律：小写字母 = 大写字母 + 32**

---

# 📖 Slide 32: Unicode - 为什么需要它？

**ASCII的问题：**

```
ASCII 用 7 bits = 128 个字符

只够表示：
- 英文字母 A-Z, a-z (52个)
- 数字 0-9 (10个)
- 标点符号和控制字符 (剩余的)

中文有几万个汉字... 128个根本不够！
日文、韩文、阿拉伯文... 都没法表示！
```

**所以需要一个更大的编码系统 → Unicode**

---

# 📖 Slide 33: Unicode 是什么？

**Unicode = Universal Character Encoding**

**统一码 / 万国码**

**目标：可以表示全世界的字符**

```
Unicode 包含：
- 65,536+ 个字符（比ASCII多得多！）
- 覆盖多种语言：中文、日文、韩文、阿拉伯文...
- 包含数学符号、emoji等
```

**关键点：Unicode 包含 ASCII**

```
ASCII ⊂ Unicode
ASCII是Unicode的子集

ASCII的128个字符在Unicode里保持不变：
'A' (ASCII 65) = 'A' (Unicode U+0041)
```

---

# 📖 Slide 34: ASCII vs Unicode 对比

| | ASCII | Unicode |
|--|-------|---------|
| 位数 | 7 bits | 16+ bits |
| 字符数量 | 128 | 65,536+ |
| 适用语言 | 英文 | **全世界所有语言** |
| 包含内容 | 英文、数字、标点 | 中文、日文、emoji等 |

```
ASCII = 只有英文的基本字符集
Unicode = 全世界的字符集（包含ASCII）
```

> ⚠️ **重要**：ASCII只是Unicode的一小部分！

---

# 📖 Slide 35: 文本压缩 - 为什么需要？

一篇10000字的文章 = 10000 bytes = 10 KB

一部小说可能几MB...

**能不能让文件变小？**

可以！这就是**压缩**！

---

# 📖 Slide 36: 压缩方法1 - Keyword Encoding

**思路：用短符号代替常用长单词**

```
原文：
the people and the government and the people

替换规则：
the → #
and → &

压缩后：
# people & # government & # people
```

节省空间！

---

# 📖 Slide 37: Compression Ratio（压缩比）

**公式：**

```
压缩比 = 压缩后大小 / 原始大小
```

**例：**
- 原文：656 字符
- 压缩后：596 字符
- 压缩比 = 596/656 = 0.91 = 91%

**节省了 9% 的空间！**

---

# 📖 Slide 38: 压缩方法2 - Run-Length Encoding (RLE) ⭐⭐⭐⭐

**思路：连续重复的字符只记录一次**

```
原文：AAAAAAAAAA（10个A）

用 RLE 表示：
*A10

格式：标记符 + 字符 + 次数
      *      A     10
```

---

# 📖 Slide 39: RLE 例题

**原文：** `AAAABBBCCCCCCCDDDD hi there EEEEEEEEEFF`

**分析：**
```
AAAA     → 4个A  → *A4
BBB      → 3个B  → BBB（不划算，保持原样）
CCCCCCC  → 7个C  → *C7
DDDD     → 4个D  → *D4
 hi there → 保持原样
EEEEEEEEE → 9个E → *E9
FF       → 2个F  → FF（不划算）
```

**编码结果：** `*A4BBB*C7*D4 hi there *E9FF`

---

# 📖 Slide 40: RLE - 什么时候编码？

| 重复次数 | 原始长度 | 编码长度 | 划算？ |
|----------|----------|----------|--------|
| 2次 | 2 | 3 (`*A2`) | ❌ 更长了 |
| 3次 | 3 | 3 (`*A3`) | ➖ 一样 |
| 4次 | 4 | 3 (`*A4`) | ✅ 省1个 |
| 10次 | 10 | 4 (`*A10`) | ✅ 省6个 |

**规则：重复超过3次才编码！**

---

# 📖 Slide 41: RLE 压缩比计算

**原文：** `AAAABBBCCCCCCCDDDD hi there EEEEEEEEEFF`
**长度：** 40 字符

**编码：** `*A4BBB*C7*D4 hi there *E9FF`
**长度：** 26 字符

```
压缩比 = 26/40 = 0.65 = 65%

节省了 35% 的空间！
```

---

# 📖 Slide 42: 压缩方法3 - Huffman Encoding

**思路：常用字符用短编码，罕见字符用长编码**

```
英文中：
'e' 出现最频繁 → 用短编码：10
'z' 很少出现   → 用长编码：110110
```

**特点：变长编码，但没有歧义（前缀码）**

---

# 📖 Slide 43: 音频表示

**声音是什么？**

空气的振动 → 压力波 → 振动你的耳膜

```
声波图示：
    ∿∿∿∿∿∿∿
```

这是模拟信号！怎么数字化？

---

# 📖 Slide 44: 音频数字化

**两个步骤：**

## 1. Sampling（采样）
每隔一小段时间，测量一次声波的高度

## 2. Quantization（量化）
把测量值变成数字

```
采样率越高 → 质量越好
CD音质 = 44,100 次/秒
```

---

# 📖 Slide 45: 音频格式

| 格式 | 特点 |
|------|------|
| WAV | 无压缩，文件大 |
| MP3 | 有损压缩，文件小 |
| FLAC | 无损压缩 |

**MP3原理：扔掉人耳听不到的频率！**

---

# 📖 Slide 46: 颜色表示 - RGB

**电脑屏幕用三种颜色混合：**

- **R**ed（红）
- **G**reen（绿）
- **B**lue（蓝）

每个颜色用 0-255 表示强度

---

# 📖 Slide 47: RGB 例子

| RGB值 | 颜色 |
|-------|------|
| (255, 0, 0) | 红色 🔴 |
| (0, 255, 0) | 绿色 🟢 |
| (0, 0, 255) | 蓝色 🔵 |
| (255, 255, 0) | 黄色 🟡 |
| (255, 255, 255) | 白色 ⚪ |
| (0, 0, 0) | 黑色 ⚫ |
| (128, 128, 128) | 灰色 |

---

# 📖 Slide 48: Color Depth（色深）

**每个像素用多少位来存储颜色？**

| 名称 | 位数 | 颜色数量 |
|------|------|----------|
| HiColor | 16 bits | 65,536 |
| TrueColor | 24 bits | 16.7 million |

```
TrueColor = 8 bits × 3 (RGB) = 24 bits/pixel
```

---

# 📖 Slide 49: 图像术语

**Pixel（像素）**
= Picture Element
= 图像的最小单位，一个颜色点

**Resolution（分辨率）**
= 图像有多少像素
= 如 1920×1080 = 约200万像素

---

# 📖 Slide 50: Raster vs Vector ⭐⭐⭐⭐

| | Raster 位图 | Vector 矢量 |
|--|-------------|-------------|
| 存什么 | 每个像素的颜色 | 数学公式（线、圆...） |
| 放大 | 会模糊！ | 永远清晰！ |
| 适合 | 照片 | Logo、图标 |
| 格式 | BMP, JPEG, PNG, GIF | SVG, AI |

```
位图放大：😀 → 🟫🟫🟫 （马赛克）
矢量放大：😀 → 😀 （完美）
```

---

# 📖 Slide 51: 常见图像格式

| 格式 | 压缩类型 | 适用场景 |
|------|----------|----------|
| BMP | 无压缩 | 简单图像 |
| JPEG | 有损 | 照片 |
| PNG | 无损 | 网页图形、透明背景 |
| GIF | 无损，256色 | 动画、简单图标 |

**Lossy（有损）**：压缩后信息丢失，不可恢复
**Lossless（无损）**：压缩后信息完整保留

---

# 📖 Slide 52: 视频表示

**视频 = 很多张图片快速播放**

```
1秒视频 = 24-60 张图片（帧）
```

**问题：视频文件会非常大！**

1秒 × 30帧 × 1920×1080 × 24bits = ???

需要压缩！

---

# 📖 Slide 53: 视频压缩

**两种方式：**

## 1. Temporal Compression（时间压缩）
相邻两帧通常很相似，只存储差异

## 2. Spatial Compression（空间压缩）
单帧内部的压缩（和图片压缩一样）

**Codec = Compressor + Decompressor**

---

# 📖 Slide 54: Chapter 3 总结

| 数据类型 | 表示方法 |
|----------|----------|
| 负数 | Two's Complement（取反+1） |
| 浮点数 | Sign × Mantissa × Base^Exp |
| 小数转换 | 乘基数取整法 |
| 文本 | ASCII / Unicode |
| 压缩 | Keyword, RLE, Huffman |
| 音频 | 采样 + 量化 |
| 图像 | RGB像素 / 矢量 |
| 视频 | 时间压缩 + 空间压缩 |

---

# 📖 Slide 55: 作业常考题型

1. ⭐⭐⭐⭐⭐ **Two's Complement 转换**
2. ⭐⭐⭐⭐⭐ **小数转二进制/八进制**
3. ⭐⭐⭐⭐ **浮点数分解（sign, mantissa, exponent）**
4. ⭐⭐⭐⭐ **RLE编码 + 压缩比计算**
5. ⭐⭐⭐ **RGB颜色值**
6. ⭐⭐⭐ **Raster vs Vector 区别**

---

# 📝 练习题答案汇总

## 你的作业题：

**Q1: 0.50 → 二进制(5位)**
A: 0.10000₂

**Q2: 0.10 → 二进制(5位)**
A: 0.00011₂

**Q3: 0.50 → 八进制(5位)**
A: 0.40000₈

**Q4: 0.10 → 八进制(5位)**
A: 0.06314₈

**Q5: 175.23 的浮点表示**
A: Sign=+, Mantissa=17523, Exponent=-2

**Q6: RLE压缩 `AAAABBBCCCCCCCDDDD hi there EEEEEEEEEFF`**
A: `*A4BBB*C7*D4 hi there *E9FF`
压缩比 = 26/40 = 0.65

---

*Good luck with your study! 学习加油！*
